---
import { ui, defaultLang } from '../i18n/translations';
import { useTranslatedPath } from '../i18n/utils';
import LanguagePicker from './LanguagePicker.astro';

const { lang = defaultLang } = Astro.props;
const t = ui[lang as keyof typeof ui] || ui[defaultLang];
const translatePath = useTranslatedPath(lang as keyof typeof ui);
---
<header class="sticky top-0 z-50 backdrop-blur border-b border-white/10 bg-black/30">
  <div class="max-w-6xl mx-auto px-4 flex items-center justify-between py-3">
    <a href={translatePath('/')} class="font-extrabold tracking-tight text-xl gradient-text">VAI-PROG</a>
    <nav class="hidden md:flex items-center gap-5">
      <a class="text-sm text-white/80 hover:text-white" href="#about">{t['about.title']}</a>
      <a class="text-sm text-white/80 hover:text-white" href="#skills">{t['skills.title']}</a>
      <a class="text-sm text-white/80 hover:text-white" href="#projects">{t['projects.title']}</a>
      <a class="text-sm text-white/80 hover:text-white" href="#vibes">{t['vibes.title']}</a>
      <a class="text-sm text-white/80 hover:text-white" href="#friends">{t['friends.title']}</a>
      <a class="text-sm text-white/80 hover:text-white" href="#contact">{t['contact.title']}</a>
      <a class="text-sm text-white/80 hover:text-white" href="/blog">{t['nav.blog']}</a>
      <LanguagePicker />
    </nav>
    <div class="flex items-center gap-2 md:hidden">
      <LanguagePicker />
      <a href="/blog" class="text-sm text-white/80 hover:text-white px-3 py-2 rounded-lg border border-white/15 bg-white/5 hover:bg-white/10 transition">
        {t['nav.blog']}
      </a>
    </div>
  </div>
</header>
