---
import { languages } from '../i18n/translations';
import { getLangFromUrl, useTranslatedPath } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const translatePath = useTranslatedPath(lang);
---
<div class="flex gap-2">
  {Object.entries(languages).map(([code, label]) => (
    <a
      href={translatePath('/', code)}
      class={`px-2 py-1 rounded text-sm transition-colors ${
        code === lang 
          ? 'bg-white/20 text-white font-bold' 
          : 'text-white/60 hover:text-white hover:bg-white/10'
      }`}
    >
      {code.toUpperCase()}
    </a>
  ))}
</div>
